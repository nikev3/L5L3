<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Lynn Schirmer for CFA 2023">
    <title>Dinosaurs</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="crossorigin">
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@200;300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="dinosaurs.js"></script>
</head>

<body>
    <header>
        <h1>Dinosaurs</h1>
        <!--<nav><a id="">All</a></nav>-->
    </header>
    <main>
        <!-- Exercise 9: Loop through dinosaurs array and display information -->
        <!-- Extra credit: Create a menu for sorting dinosaurs by diet -->
        <select id="diet-filter">
            <option value="all">All</option>
            <option value="carnivore">Carnivore</option>
            <option value="herbivore">Herbivore</option>
        </select>
    </main>
    <footer>
        <p>&copy; Copyright 2023 Computing for All. All rights reserved.</p>
    </footer>

    <script>
        /* Exercise 8
        Examine dinosaurs.js
        It contains an array [] of objects {}. Notice how each object contains the same keys.
        We are going to show all of the dinosaurs on the web page without having to write HTML for each one.
        
        Assign a variable to the dinosaurs array.
        Select and assign a variable to <main>
        */

        // Exercise 8
        // Assign a variable to the dinosaurs array.
        const dinosaurs = [
            { name: 'Tyrannosaurus Rex', diet: 'Carnivore', length: '40 ft', period: 'Late Cretaceous', info: 'The Tyrannosaurus rex was one of the largest meat-eating dinosaurs that ever lived.' },
            { name: 'Triceratops', diet: 'Herbivore', length: '26 ft', period: 'Late Cretaceous', info: 'The Triceratops had three horns on its head and a bony frill.' },
            { name: 'Stegosaurus', diet: 'Herbivore', length: '30 ft', period: 'Late Jurassic', info: 'The Stegosaurus had large bony plates on its back and sharp spikes on its tail.' }
        ];

        // Select and assign a variable to <main>
        const main = document.querySelector('main');

        /* Exercise 9
        Use the .forEach() method to loop through each dinosaur object and show it on the page.
        Inside .forEach() create a variable to hold a template literal containing all the HTML necessary to make a div for the dinosaur information and picture. Use the same basic markup as you see in my-dinos.html
        Show the image, name, diet, length, period, and info for each dinosaur.
        Remember to use the += operator so the additions are cumulative.
        */

        dinosaurs.forEach(dinosaur => {
            // Create a div element for each dinosaur
            const dinosaurDiv = document.createElement('div');
            dinosaurDiv.classList.add('dinosaur');

            // Create an image element for the dinosaur
            const dinosaurImg = document.createElement('img');
            dinosaurImg.src = `images/${dinosaur.name.toLowerCase().replace(/ /g, '-')}.png`;
            dinosaurImg.alt = dinosaur.name;

            // Create paragraphs for the dinosaur information
            const namePara = document.createElement('p');
            namePara.textContent = `Name: ${dinosaur.name}`;

            const dietPara = document.createElement('p');
            dietPara.textContent = `Diet: ${dinosaur.diet}`;

            const lengthPara = document.createElement('p');
            lengthPara.textContent = `Length: ${dinosaur.length}`;

            const periodPara = document.createElement('p');
            periodPara.textContent = `Period: ${dinosaur.period}`;

            const infoPara = document.createElement('p');
            infoPara.textContent = dinosaur.info;

            // Append the elements to the dinosaur div
            dinosaurDiv.appendChild(dinosaurImg);
            dinosaurDiv.appendChild(namePara);
            dinosaurDiv.appendChild(dietPara);
            dinosaurDiv.appendChild(lengthPara);
            dinosaurDiv.appendChild(periodPara);
            dinosaurDiv.appendChild(infoPara);

            // Append the dinosaur div to the main element
            main.appendChild(dinosaurDiv);
        });

        /* Extra credit
        Create a menu for users to sort the dinosaurs by diet: all, carnivore, herbivore. Use code similar to that which we completed for the Flying Machines, but use the diet key from the dinosaur objects to make the sorting work. */

        const dietFilter = document.getElementById('diet-filter');
        dietFilter.addEventListener('change', () => {
            const selectedDiet = dietFilter.value;

            // Clear the existing dinosaurs from the main element
            main.innerHTML = '';

            // Filter dinosaurs based on the selected diet
            const filteredDinosaurs = selectedDiet === 'all' ? dinosaurs : dinosaurs.filter(dinosaur => dinosaur.diet === selectedDiet);

            // Display the filtered dinosaurs
            filteredDinosaurs.forEach(dinosaur => {
                const dinosaurDiv = document.createElement('div');
                dinosaurDiv.classList.add('dinosaur');

                const dinosaurImg = document.createElement('img');
                dinosaurImg.src = `images/${dinosaur.name.toLowerCase().replace(/ /g, '-')}.png`;
                dinosaurImg.alt = dinosaur.name;

                const namePara = document.createElement('p');
                namePara.textContent = `Name: ${dinosaur.name}`;

                const dietPara = document.createElement('p');
                dietPara.textContent = `Diet: ${dinosaur.diet}`;

                const lengthPara = document.createElement('p');
                lengthPara.textContent = `Length: ${dinosaur.length}`;

                const periodPara = document.createElement('p');
                periodPara.textContent = `Period: ${dinosaur.period}`;

                const infoPara = document.createElement('p');
                infoPara.textContent = dinosaur.info;

                dinosaurDiv.appendChild(dinosaurImg);
                dinosaurDiv.appendChild(namePara);
                dinosaurDiv.appendChild(dietPara);
                dinosaurDiv.appendChild(lengthPara);
                dinosaurDiv.appendChild(periodPara);
                dinosaurDiv.appendChild(infoPara);

                main.appendChild(dinosaurDiv);
            });
        });
    </script>
</body>

</html>
